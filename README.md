# ETL система по обработке транзакций

## Описание
Система по обработке транзакций получает на вход поток различных транзакций. На выходе будет реализован 
алгоритм поиска мошеннических транзакций.

## Мониторинг

Ниже приведены пример дашбордов в графане, которые можно посмотреть по [ссылке](http://localhost:3001).
![image-1](/images/1.png)

![image-2](/images/2.png)

## Запуск приложения
Запустить систему можно в папке проекта с помощью команды:
```shell
docker-compose up -d
```
Контейнеры приложений необходимо запускать в последовательности: 
`t-generator` -> `t-producer` -> `t-connector` -> `t-monitoring`.

### Какие данные для данной области являются потоковыми?

Система будет генерировать поток сообщений о транзакциях. Модель сообщения представлена ниже:
```json
{
  "id": "865ed163-859c-4c31-904e-5fbc119908bf",
  "timestamp": "12-12-2024 18:08:32.009",
  "type": "TRANSFER",
  "amount": 7800.36,
  "currency": "EUR",
  "origin_id": "a8ce6cff-cca0-4e09-aaae-f15a244bee93",
  "destination_id": "ece65b67-b3ac-40db-ab02-9ca3a632db84",
  "origin_old_balance": 8900.89,
  "origin_new_balance": 1100.53,
  "destination_old_balance": 8.00,
  "destination_new_balance": 7808.36,
  "card_type": "DEBIT",
  "client_category": "PREMIUM",
  "sex": "FEMALE",
  "payment_category": null,
  "client_type": "FL"
}
```

### Какие результаты будут получены в ходе обработки?
Есть несколько вариантов:
1) Аналитика данных. Например, сумма переводов премиум-клиентов за последние 30 дней.
2) Обученный машинный алгоритм на распознование мошеннических транзакций и их ИД.

Предпочтительнее реализовать второй вариант, чтобы в качестве результатов обработки получить классификацию ИД 
платежей как мошеннических или нет. В противном случае, будут получены различные статистические данные.

### Как в процессе обработки можно задействовать машинное обучение?
Планируется использовать алгоритм обнаружения мошеннических транзакций, как последний этап обработки данных. 
Помимо этого можно использовать машинное обучение для предсказания иных данных. Например, предсказать через 
сколько дней на балансе того или иного клиента будет баланс в 0 единиц.

### Как предметная область относится к запаздыванию обработки? Насколько это критично?
Поток транзакций является важным набором данных. Он важен не только для аналитики данных и сбора статистики, но и
для юридического сопровождения. Такие данные чувствительны к запаздыванию. Если обработка данных будет задержана
хотя бы до 5 минут, то за это время могут произойти негативные явления. Как минимум, могут быть потеряны
средства клиента из-за мошеннических операций и, как следствие, потеряно его доверие к банку. Как максимум, 
может быть упущена крупная проблема в нескольких транзакций клиентов, что может привести к потере капитала банка и
доверия клиентов.

### Как предметная область относится к потере данных? Насколько это критично? Какую семантику следует выбрать?
Данная предметная область также чувствительна и к потере данных. При потере транзакций могут быть упущены
мошеннические операции, а также могут возникнуть юридические проблемы. Например, клиент перевел большую сумму
средств на покупку недвижимости, а банк данную транзакцию не зафиксировал и не обработал. Как итог, клиент 
потерял средства и может подать в суд на банк. Поэтому, необходимо выбрать семантику `at-least-once`. При такой
семантике данные точно не будут потеряны, однако, необходимо будет доработать логику для контролирования дубликатов
событий.
